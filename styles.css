:root {
  --bg: #fafafa;
  --text: #262626;
  --muted: #8e8e8e;
  --card: #ffffff;
  --border: #dbdbdb;
  --brand-a: #0095f6;
  --brand-b: #0074cc;
  --primary: #0095f6;
}
body.dark {
  --bg: #121212;
  --text: #f5f5f5;
  --muted: #a8a8a8;
  --card: #121212;
  --border: #262626;
}
* { box-sizing: border-box; }
[hidden] { display: none !important; }
body { margin:0; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; color:var(--text); background: var(--bg); min-height:100vh; display:grid; place-items:center; }
.bg-orb{position:fixed;border-radius:50%;filter:blur(60px);z-index:-1}
.orb-1{width:220px;height:220px;background:#7b68ff77;top:5%;left:8%}
.orb-2{width:260px;height:260px;background:#55d6ff55;bottom:5%;right:5%}
.glass{background:var(--card);border:1px solid var(--border);border-radius:12px}

button{border:1px solid var(--border);border-radius:8px;background:var(--brand-a);color:#fff;font-weight:600;padding:7px 16px;cursor:pointer;transition: opacity 0.2s;}
button:hover{filter:brightness(1.03)}
.icon-btn,.nav-btn{background:transparent;color:var(--text);border:0;box-shadow:none}

.auth-gate{width:min(430px,92vw)}
.auth-card{padding:20px;display:flex;flex-direction:column;gap:12px}
.auth-form{display:flex;flex-direction:column;gap:10px; animation: formDrop 0.4s ease-out;}
@keyframes formDrop {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}
.auth-form input,.auth-form button{border-radius:12px;border:1px solid var(--border);padding:12px;background:rgba(255,255,255,.45);color:var(--text)}

.password-field { position: relative; width: 100%; }
.password-field input { width: 100%; padding-right: 44px; }
.toggle-password {
  position: absolute;
  right: 8px;
  top: 50%;
  transform: translateY(-50%);
  background: transparent;
  border: 0;
  box-shadow: none;
  padding: 4px 8px;
  font-size: 1.1rem;
  color: var(--muted);
  cursor: pointer;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
}
.toggle-password:hover { background: rgba(0,0,0,0.05); }
.auth-toggle { text-align: center; font-size: 0.9rem; color: var(--muted); margin-top: 8px; }
.auth-toggle a { color: var(--brand-a); font-weight: 600; text-decoration: none; }
.auth-toggle a:hover { text-decoration: underline; }
#authMessage{min-height:16px;color:#d14343}

.app-shell{width:min(100%,480px);min-height:100vh;border-radius:0;padding:0;background:var(--bg);display:flex;flex-direction:column}
.topbar{padding:12px;display:flex;justify-content:space-between;align-items:center}
.brand{display:flex;align-items:center;gap:12px}
.brand-logo{width:44px;height:44px;border-radius:14px;background:linear-gradient(135deg,var(--brand-a),var(--brand-b));display:grid;place-items:center;color:#fff}
.brand h1{margin:0;font-size:1.8rem}
.top-actions{display:flex;gap:6px;align-items:center}
.status-dot { width: 10px; height: 10px; border-radius: 50%; background: #ccc; transition: background 0.3s; }
.status-dot.online { background: #10b981; box-shadow: 0 0 8px #10b981; }
.status-dot.offline { background: #ef4444; box-shadow: 0 0 8px #ef4444; }

.app-layout{display:grid;grid-template-rows:1fr auto;height:calc(100vh - 86px)}
main{padding:0;overflow:auto}
.web-sidepanel{display:none;padding:14px}
.screen{display:none}.screen.active{display:block}

.search-row{display:flex;gap:10px;align-items:center;padding:12px 14px;margin-bottom:14px}
.search-row input{border:0;background:transparent;flex:1;color:var(--text)}
.stories{display:flex;gap:12px;overflow:auto;padding:12px;margin-bottom:14px;min-height:92px}
.story{text-align:center;min-width:74px;cursor:pointer}
.avatar{width:62px;height:62px;border-radius:50%;display:grid;place-items:center;background:linear-gradient(135deg,#fff,#dbe3ff);border:2px solid #fff;margin:0 auto 6px;font-weight:700}

.feed-list{display:grid;gap:12px}
.feed-card{padding:12px}
.feed-type{font-size:.72rem;color:var(--muted);margin-bottom:6px}

/* Strict preview aspect ratio rules */
.media-16x9,.media-9x16,.suite-preview,.post-viewer-media{position:relative;overflow:hidden;border-radius:14px;background:#0f172a}
.media-16x9{aspect-ratio:16/9}
.media-9x16{aspect-ratio:9/16;max-height:70vh}
.media-16x9 img,.media-16x9 video,.media-9x16 img,.media-9x16 video,.suite-preview img,.suite-preview video,.post-viewer-media img,.post-viewer-media video{width:100%;height:100%;object-fit:cover;display:block}
.carousel-row{display:grid;grid-template-columns:repeat(auto-fit,minmax(140px,1fr));gap:8px}
.carousel-row .media-9x16{max-height:unset}

.upload-type-row{display:flex;gap:8px;padding:10px;margin-bottom:10px;overflow:auto}
.type-btn{border-radius:999px;background:rgba(99,91,255,.12);color:var(--text);white-space:nowrap;box-shadow:none}
.type-btn.active{background:linear-gradient(135deg,var(--brand-a),var(--brand-b));color:#fff}
.upload-form{padding:12px;display:grid;gap:10px;margin-bottom:10px}
.upload-form input,.upload-form textarea{border-radius:12px;border:1px solid var(--border);padding:12px;background:rgba(255,255,255,.45);color:var(--text)}
.upload-form textarea{min-height:90px;resize:vertical}
.upload-dropzone{border:2px dashed rgba(100,116,139,.35);border-radius:14px;min-height:150px;display:grid;place-items:center;text-align:center;padding:14px;cursor:pointer;background:rgba(255,255,255,.35)}
.upload-dropzone.dragover{border-color:#5b5ee8;background:rgba(99,91,255,.13)}
.drop-icon{font-size:1.5rem}
.upload-selected-preview{display:grid;grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:8px}
.selected-item{border:1px solid var(--border);border-radius:12px;padding:8px;background:rgba(255,255,255,.4);font-size:.8rem}
.selected-item .media-16x9,.selected-item .media-9x16{margin-bottom:6px}
.upload-btn-row{display:flex;justify-content:flex-end;gap:8px;flex-wrap:wrap}
#clearUploadSelection,#confirmCancel{background:rgba(255,255,255,.8);color:#1f2937;box-shadow:none}
#publishUploadBtn,#saveCreativeSuite,#confirmOk{background:linear-gradient(135deg,#5e5bff,#4b4cf7)}
.status-text{margin:0 2px 8px;color:var(--muted);font-size:.9rem}
.upload-progress{height:10px;border-radius:999px;overflow:hidden;background:rgba(99,91,255,.15);margin:0 2px 8px}
#uploadProgressBar{width:0;height:100%;background:linear-gradient(135deg,var(--brand-a),var(--brand-b));transition:width .18s linear}
.upload-list{display:grid;gap:8px}.upload-item{padding:10px;border-radius:14px}

.channel-content-list{display:grid;gap:10px}.channel-card{padding:12px}.channel-actions{display:grid;gap:8px}.channel-actions input,.channel-actions textarea{border-radius:10px;border:1px solid var(--border);padding:8px;background:rgba(255,255,255,.42);color:var(--text)}

.chat-layout{display:grid;grid-template-columns:1fr;min-height:62vh;overflow:hidden}
.chat-list{border-bottom:1px solid var(--border);padding:12px}
.chat-user{width:100%;text-align:left;margin-bottom:8px;background:transparent;color:var(--text);display:block;border:0;border-radius:12px;padding:8px;box-shadow:none}
.chat-user.active{background:rgba(99,91,255,.2)}
.chat-panel{padding:12px;display:flex;flex-direction:column;min-height:46vh}
.chat-header{display:flex;justify-content:space-between;align-items:center;position:relative}
.menu-wrap{position:relative}.chat-menu{position:absolute;right:0;top:36px;width:180px;background:var(--card);border:1px solid var(--border);border-radius:12px;overflow:hidden;z-index:10}.chat-menu button{width:100%;text-align:left;border:0;padding:9px 10px;background:transparent;color:var(--text);box-shadow:none}
.chat-menu .danger{color:#d14343}
.messages{flex:1;overflow:auto;display:flex;flex-direction:column;gap:6px;margin:10px 0;padding:0 4px}
.bubble{max-width:82%;padding:8px 12px;border-radius:16px;line-height:1.4;word-break:break-word;position:relative;font-size:0.95rem;box-shadow:0 1px 2px rgba(0,0,0,0.1)}
.incoming{align-self:flex-start;background:var(--card);border-bottom-left-radius:4px;color:var(--text)}
.outgoing{align-self:flex-end;background:linear-gradient(135deg,var(--brand-a),var(--brand-b));border-bottom-right-radius:4px;color:#fff}
.attachment-preview{border:1px dashed var(--border);border-radius:14px;padding:8px;margin:0 0 8px;font-size:.9rem}
.composer{display:flex;gap:8px;align-items:center}.composer input[type='text']{flex:1;border:1px solid var(--border);border-radius:999px;padding:10px 14px;background:transparent;color:var(--text)}#fileInput{display:none}.attach-btn{width:38px;height:38px;border-radius:50%;display:grid;place-items:center;background:rgba(99,91,255,.2);cursor:pointer}

.bottom-nav{display:grid;grid-template-columns:repeat(5,1fr);padding:10px 4px;gap:2px;margin-top:6px}
.nav-btn{display:grid;place-items:center;font-size:1.1rem;gap:2px}.nav-btn span{font-size:.8rem}

.story-viewer{position:fixed;inset:0;background:rgba(15,18,34,.68);display:grid;place-items:center;z-index:50}.story-viewer-card{width:min(460px,95vw);padding:12px}.story-viewer-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}.story-viewer-actions{display:flex;justify-content:space-between;margin-top:8px}

.modal{position:fixed;inset:0;background:rgba(9,11,22,.72);display:grid;place-items:center;z-index:60}
.modal-card{width:min(980px,95vw);max-height:92vh;overflow:auto;padding:12px}
.modal-top{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.suite-grid{display:grid;grid-template-columns:220px 1fr;gap:10px}
.suite-asset-list{display:grid;gap:8px;max-height:66vh;overflow:auto}
.suite-asset-item{padding:8px;border-radius:10px;background:rgba(99,91,255,.12);cursor:pointer}
.suite-asset-item.active{background:linear-gradient(135deg,var(--brand-a),var(--brand-b));color:#fff}
.suite-preview{aspect-ratio:16/9;display:grid;place-items:center}
.overlay-text{position:absolute;left:10%;top:10%;font-weight:700;cursor:grab;text-shadow:0 2px 8px rgba(0,0,0,.5)}
.suite-controls{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:8px;margin-top:8px}
.suite-controls label{display:grid;gap:4px;font-size:.85rem}
.suite-controls input{border-radius:8px;border:1px solid var(--border);padding:8px;background:rgba(255,255,255,.45);color:var(--text)}
.post-viewer-card{max-width:1024px}.post-interaction{display:grid;gap:8px}.comment-list{display:grid;gap:6px;max-height:200px;overflow:auto}.comment-item{padding:6px 8px;border-radius:10px;background:rgba(99,91,255,.08)}.interaction-row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}

@media (min-width:1024px){
  .app-shell{width:100%;max-width:935px;margin:0 auto;min-height:100vh;max-height:unset;border-radius:0;padding:0}
  .app-layout{grid-template-columns:1fr;grid-template-rows:1fr;gap:0;height:calc(100vh - 60px)}
  .bottom-nav{grid-template-columns:repeat(5, 1fr);position:fixed;bottom:0;left:0;right:0;background:var(--card);border-top:1px solid var(--border);padding:0;margin:0;z-index:100}
  .nav-btn{background:transparent;border-radius:0;padding:12px;border:0}
  main{padding:30px 20px;border-radius:0;border:0;background:transparent}
  .web-sidepanel{display:none}
  .chat-layout{grid-template-columns:350px 1fr;min-height:80vh;border:1px solid var(--border);margin-top:20px}
  .chat-list{border-right:1px solid var(--border);border-bottom:0}
}

.explore-users-list {
  display: grid;
  gap: 10px;
}

.explore-user-card {
  padding: 10px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 10px;
}

.explore-user-head {
  display: flex;
  align-items: center;
  gap: 10px;
}

.explore-user-head p {
  margin: 2px 0 0;
  color: var(--muted);
  font-size: 0.85rem;
}

.status-pill {
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 0.75rem;
  font-weight: 700;
}

.status-pill.active {
  background: rgba(16, 185, 129, 0.2);
  color: #0f8a3a;
}

.status-pill.inactive {
  background: rgba(148, 163, 184, 0.2);
  color: #64748b;
}

.follow-btn {
  padding: 6px 12px;
  border-radius: 8px;
  font-size: 0.8rem;
  background: var(--brand-a);
  color: #fff;
  border: none;
  cursor: pointer;
}
.follow-btn.following {
  background: rgba(0,0,0,0.05);
  color: var(--text);
  cursor: default;
}
.follow-btn.requested {
  background: rgba(0,0,0,0.05);
  color: var(--muted);
  cursor: default;
}

.chat-list-actions { display: grid; gap: 8px; }
.typing-indicator { color: var(--muted); min-height: 16px; font-size: 0.78rem; }
.view-once-toggle { display: inline-flex; align-items: center; gap: 4px; font-size: 0.78rem; color: var(--muted); }

.chat-image {
  max-width: 220px;
  border-radius: 10px;
  overflow: hidden;
  aspect-ratio: 9 / 16;
}
.chat-image.landscape { aspect-ratio: 16 / 9; }
.chat-image img { width: 100%; height: 100%; object-fit: cover; display: block; }

.bubble.image-only {
  padding: 0;
  overflow: hidden;
  line-height: 0;
}
.bubble.image-only .chat-image {
  max-width: 280px;
  border-radius: 0;
  width: 100%;
  margin-top: 0;
}
.view-once-badge { font-size: 0.72rem; opacity: 0.9; }
.view-once-placeholder { font-size: 0.85rem; opacity: 0.9; }

.contact-list { display: grid; gap: 8px; max-height: 55vh; overflow: auto; margin-top: 10px; }
.contact-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 8px;
  background: rgba(255,255,255,0.35);
}

.admin-btn { background: var(--card); border: 1px solid var(--border); padding: 0.5rem 1rem; border-radius: 8px; font-weight: 600; cursor: pointer; color: var(--text); }
.admin-btn:hover { background: var(--brand-a); color: #fff; border-color: var(--brand-a); }
.admin-btn.danger { border-color: rgba(239, 68, 68, 0.4); }
.admin-btn.danger:hover { background: #ef4444; border-color: #ef4444; }

.delete-flow-content { padding: 1.5rem 0; }
.suggestion-note { font-size: 0.9rem; margin-bottom: 1rem; color: var(--muted); }
.suggestion-note a { color: var(--brand-a); font-weight: 600; text-decoration: none; }
.warning-box { background: rgba(239, 68, 68, 0.1); border-left: 4px solid #ef4444; padding: 1rem; border-radius: 4px; margin-bottom: 1rem; }
.warning-box strong { display: block; margin-bottom: 0.5rem; color: #ef4444; }
.confirm-checkbox { display: flex; align-items: center; gap: 0.5rem; margin-top: 1.5rem; cursor: pointer; font-size: 0.9rem; color: var(--text); }
.confirm-checkbox input { width: 1.2rem; height: 1.2rem; cursor: pointer; }
.danger { color: #ef4444 !important; }
button.danger { background: #ef4444; color: #fff; border: none; }
button.danger:disabled { opacity: 0.5; cursor: not-allowed; }

/* Profile Page Styles */
.profile-header {
  padding: 0 0 44px 0;
  margin-bottom: 0;
}
.profile-header-top {
  display: flex;
  gap: 30px;
  align-items: flex-start;
}
.profile-avatar {
  width: 77px;
  height: 77px;
  border-radius: 50%;
  background: #fafafa;
  border: 1px solid var(--border);
  color: #fff;
  display: grid;
  place-items: center;
  font-size: 2rem;
  font-weight: 800;
  flex-shrink: 0;
  overflow: hidden;
}
.profile-avatar img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.profile-avatar-upload {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}
.form-group {
  display: flex;
  flex-direction: column;
  gap: 6px;
  margin-bottom: 10px;
}
.form-group label {
  font-size: 0.8rem;
  font-weight: 700;
  color: var(--muted);
}
.profile-info {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 12px;
}
.profile-username-row {
  display: flex;
  align-items: center;
  gap: 20px;
  flex-wrap: wrap;
  margin-bottom: 20px;
}
.profile-username-row h2 {
  margin: 0;
  font-size: 20px;
  font-weight: 400;
}
.edit-profile-btn {
  background: var(--card);
  color: var(--text);
  border: 1px solid var(--border);
  box-shadow: none;
  font-size: 0.85rem;
  padding: 6px 12px;
}
.profile-stats {
  display: flex;
  gap: 40px;
  font-size: 16px;
  margin-bottom: 20px;
}
.profile-bio {
  font-size: 0.9rem;
  line-height: 1.4;
}
.profile-bio strong {
  display: block;
  margin-bottom: 2px;
}
.profile-bio p {
  margin: 0;
  color: var(--muted);
}
.profile-social-links a {
  font-size: 0.85rem;
  color: var(--brand-a);
  text-decoration: none;
  font-weight: 600;
}
.profile-social-links a:hover {
  text-decoration: underline;
}

.profile-tabs {
  display: flex;
  justify-content: center;
  border-top: 1px solid var(--border);
  margin-top: 20px;
}
.profile-tab {
  background: transparent;
  border: 0;
  border-top: 2px solid transparent;
  color: var(--muted);
  border-radius: 0;
  padding: 12px 20px;
  font-size: 0.75rem;
  font-weight: 700;
  letter-spacing: 1px;
  box-shadow: none;
}
.profile-tab.active {
  border-top-color: var(--text);
  color: var(--text);
}

.profile-content-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 4px;
  padding: 10px 0;
}
.grid-item {
  aspect-ratio: 1 / 1;
  background: #000;
  overflow: hidden;
  cursor: pointer;
  position: relative;
}
.grid-item img, .grid-item video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.grid-item .type-icon {
  position: absolute;
  top: 8px;
  right: 8px;
  color: #fff;
  text-shadow: 0 1px 4px rgba(0,0,0,0.5);
}

@media (min-width: 768px) {
  .profile-avatar {
    width: 150px;
    height: 150px;
    margin: 0 70px;
  }
  .profile-header {
    padding: 0 0 44px 0;
  }
  .profile-username-row h2 {
    font-size: 28px;
  }
}

/* Custom Overrides for Channels & Avatars */
.grid-item {
  aspect-ratio: 1 / 1;
  background: var(--glass-bg);
  border-radius: 4px;
  overflow: hidden;
  cursor: pointer;
  position: relative;
}
.grid-item img, .grid-item video {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
.grid-item-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0,0,0,0.3);
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 1.5rem;
  color: white;
  opacity: 0;
  transition: opacity 0.2s;
  font-weight: 600;
}
.grid-item:hover .grid-item-overlay {
  opacity: 1;
}

.analytics-section {
  padding: 2rem 0;
}
.analytics-overview {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 1.5rem;
  margin-bottom: 2rem;
}
.analytics-card {
  padding: 1.5rem;
  border-radius: 12px;
  text-align: center;
}
.analytics-card h4 {
  font-size: 0.85rem;
  color: var(--text-muted);
  margin-bottom: 0.5rem;
  text-transform: uppercase;
}
.analytics-card .value {
  font-size: 2rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
}
.trend {
  font-size: 0.75rem;
  font-weight: 600;
}
.trend.up { color: #10b981; }
.trend.down { color: #ef4444; }

.chart-container {
  padding: 1.5rem;
  border-radius: 12px;
}
.bar-chart {
  display: flex;
  align-items: flex-end;
  gap: 1rem;
  height: 200px;
  padding-top: 20px;
}
.chart-bar-wrap {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 0.5rem;
}
.bar {
  width: 100%;
  background: var(--primary);
  border-radius: 4px 4px 0 0;
  min-height: 4px;
  position: relative;
}
.bar:hover::after {
  content: attr(data-value);
  position: absolute;
  top: -25px;
  left: 50%;
  transform: translateX(-50%);
  background: var(--text);
  color: var(--bg);
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 10px;
}
.bar-label {
  font-size: 0.7rem;
  color: var(--text-muted);
}

.feed-header {
  display: flex;
  align-items: center;
  gap: 10px;
  margin-bottom: 10px;
}
.feed-avatar, .feed-avatar-initials {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  object-fit: cover;
  flex-shrink: 0;
}
.feed-avatar-initials {
  background: var(--primary);
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.8rem;
  font-weight: 600;
}

.chat-avatar {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  object-fit: cover;
  margin-right: 10px;
  flex-shrink: 0;
}
.chat-user {
  display: flex !important;
  align-items: center !important;
  padding: 10px !important;
}

.msg-context-menu {
  position: fixed;
  z-index: 1000;
  display: flex;
  flex-direction: column;
  gap: 8px;
  min-width: 200px;
  pointer-events: auto;
  animation: contextScale 0.1s ease-out;
}
@keyframes contextScale {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}
.emoji-bar {
  display: flex;
  justify-content: space-around;
  padding: 8px;
  border-radius: 30px;
  gap: 4px;
}
.emoji-bar button {
  background: transparent;
  box-shadow: none;
  border: 0;
  font-size: 1.5rem;
  padding: 4px;
  transition: transform 0.1s;
}
.emoji-bar button:hover { transform: scale(1.3); }
.menu-actions {
  display: flex;
  flex-direction: column;
  overflow: hidden;
  border-radius: 12px;
}
.menu-actions button {
  background: transparent;
  color: var(--text);
  text-align: left;
  border: 0;
  border-radius: 0;
  padding: 12px 16px;
  font-weight: 500;
  box-shadow: none;
}
.menu-actions button:hover { background: rgba(0,0,0,0.05); }
.menu-actions button#deleteEveryoneBtn,
.menu-actions button#deleteMeBtn { color: #ef4444; }

.reply-preview-wrap {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 8px 12px;
  border-radius: 12px 12px 0 0;
  margin-bottom: 0;
  border-bottom: 0;
  background: rgba(255,255,255,0.8);
  border-left: 4px solid var(--brand-a);
}
.reply-preview-content { overflow: hidden; flex: 1; }
.reply-preview-content strong { display: block; font-size: 0.85rem; color: var(--brand-a); }
.reply-preview-content p { margin: 0; font-size: 0.85rem; color: var(--muted); white-space: nowrap; text-overflow: ellipsis; overflow: hidden; }

.reply-ref {
  background: rgba(0,0,0,0.05);
  border-left: 3px solid var(--brand-a);
  padding: 4px 8px;
  border-radius: 4px;
  margin-bottom: 4px;
  font-size: 0.8rem;
}
.reply-ref strong { display: block; color: var(--brand-a); }
.reply-ref p { margin: 0; white-space: nowrap; text-overflow: ellipsis; overflow: hidden; }
.outgoing .reply-ref { background: rgba(255,255,255,0.2); border-left-color: #fff; }
.outgoing .reply-ref strong { color: #fff; }
.outgoing .reply-ref p { color: rgba(255,255,255,0.9); }
