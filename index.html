<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ChatBhar â€” Social + Messaging</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="bg-orb orb-1"></div>
    <div class="bg-orb orb-2"></div>

    <section id="authGate" class="auth-gate">
      <div class="auth-card glass">
        <div class="brand auth-brand">
          <div class="brand-logo">ğŸ’¬</div>
          <h1>ChatBhar</h1>
        </div>
        <p>Create account or login to continue</p>

        <form id="signupForm" class="auth-form">
          <input id="signupName" type="text" placeholder="Full name" required />
          <input id="signupEmail" type="email" placeholder="Email" required />
          <input id="signupPassword" type="password" placeholder="Create password" required />
          <button type="submit">Sign up</button>
        </form>

        <form id="loginForm" class="auth-form">
          <input id="emailInput" type="email" placeholder="Email" required />
          <input id="passwordInput" type="password" placeholder="Password" required />
          <button type="submit">Login</button>
        </form>

        <small id="authMessage"></small>
      </div>
    </section>

    <div class="app-shell" id="appShell" hidden>
      <header class="topbar glass">
        <div class="brand">
          <div class="brand-logo">ğŸ’¬</div>
          <h1>ChatBhar</h1>
        </div>
        <div class="top-actions">
          <button id="themeToggle" class="icon-btn" title="Toggle theme">ğŸŒ™</button>
          <button class="icon-btn" title="Notifications">ğŸ””</button>
          <button id="logoutBtn" class="admin-btn">Logout</button>
        </div>
      </header>

      <div class="app-layout">
        <nav class="bottom-nav glass">
          <button class="nav-btn active" data-tab="home">ğŸ <span>Home</span></button>
          <button class="nav-btn" data-tab="explore">ğŸ”<span>Explore</span></button>
          <button class="nav-btn" data-tab="post">â•<span>Post</span></button>
          <button class="nav-btn" data-tab="channels">ğŸ¥<span>Channels</span></button>
          <button class="nav-btn" data-tab="chat">ğŸ’¬<span>Chat</span></button>
        </nav>

        <main>
          <section id="home" class="screen active">
            <div class="search-row glass">
              <span>ğŸ”</span>
              <input placeholder="Search creators, channels, tagsâ€¦" />
            </div>

            <div class="stories glass" id="storiesRow"></div>
            <div id="feedList" class="feed-list"></div>
          </section>

          <section id="explore" class="screen">
            <h2>Explore</h2>
            <p>Discover short + long form content, creators, hashtags, and channels.</p>
          </section>

          <section id="post" class="screen">
            <h2>Create Upload</h2>

            <div class="glass upload-type-row" id="uploadTypeRow">
              <button class="type-btn active" data-type="short">Shorts</button>
              <button class="type-btn" data-type="carousel">Carousel Post</button>
              <button class="type-btn" data-type="ltv">Long Video (LTV)</button>
              <button class="type-btn" data-type="story">24h Story</button>
            </div>

            <form id="uploadForm" class="glass upload-form">
              <input id="uploadCaption" type="text" placeholder="Write caption / title" required />
              <textarea id="uploadDescription" placeholder="Description (optional for LTV)"></textarea>
              <input id="uploadFiles" type="file" multiple required />
              <small id="uploadHint">Shorts: 1 video Â· Carousel: multiple images Â· LTV: 1 video Â· Story: image/video (24h)</small>
              <button type="submit">Upload content</button>
            </form>

            <div id="uploadStatus" class="status-text"></div>
            <div id="uploadList" class="upload-list"></div>
          </section>

          <section id="channels" class="screen">
            <h2>Channels</h2>
            <p>Subscribed creators, livestreams, and community updates.</p>
          </section>

          <section id="chat" class="screen">
            <div class="chat-layout glass">
              <aside class="chat-list">
                <h3>Messages</h3>
                <div id="chatUsersWrap"></div>
                <button id="newChatBtn" class="utility-btn">+ New chat</button>
              </aside>

              <section class="chat-panel">
                <div class="chat-header">
                  <h3 id="activeChatTitle">General</h3>
                  <div class="menu-wrap">
                    <button id="chatMenuBtn" class="utility-btn" title="Chat options">â‹®</button>
                    <div id="chatMenu" class="chat-menu" hidden>
                      <button id="backupNowBtn">Export backup</button>
                      <button id="importBackupBtn">Import backup</button>
                      <button id="shareBackupBtn">Save to phone</button>
                      <button id="deleteChatBtn" class="danger">Delete current chat</button>
                    </div>
                  </div>
                </div>

                <div id="messages" class="messages"></div>
                <div id="attachmentPreview" class="attachment-preview" hidden></div>

                <input id="backupInput" type="file" accept="application/json" hidden />

                <form id="chatForm" class="composer">
                  <label class="attach-btn" for="fileInput" title="Attach files">ğŸ“</label>
                  <input id="fileInput" type="file" multiple />
                  <input id="messageInput" type="text" placeholder="Type a message" />
                  <button type="submit">Send</button>
                </form>
              </section>
            </div>
          </section>
        </main>

        <aside class="web-sidepanel glass" aria-label="Desktop helper panel">
          <h3>ChatBhar Web</h3>
          <p>Desktop mode: broader layout for web browsers, similar to chat-first web apps.</p>
          <ul>
            <li>Left navigation rail</li>
            <li>Wide content area</li>
            <li>Split chat list + thread</li>
          </ul>
        </aside>
      </div>
    </div>

    <div id="storyViewer" class="story-viewer" hidden>
      <div class="story-viewer-card glass">
        <div class="story-viewer-top">
          <strong id="storyViewerUser">Story</strong>
          <button id="closeStoryViewer" class="icon-btn">âœ•</button>
        </div>
        <div id="storyViewerMedia" class="story-viewer-media"></div>
        <div class="story-viewer-actions">
          <button id="prevStory">â† Prev</button>
          <button id="nextStory">Next â†’</button>
        </div>
      </div>
    </div>

    <script src="app.js"></script>
  </body>
</html>
